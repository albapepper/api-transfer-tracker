<!DOCTYPE html>
<html>
<head>
    <title>{{ header }}</title>
    <link href='https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap' rel='stylesheet'>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="main-header"><a href="/" style="text-decoration: none; color: inherit;">The Scotbot Transfer Tracker</a></div>
    <div class="main-title">{{ header|safe }}</div>
    {% if current_roster_link %}
        <div style="text-align:center; margin-bottom: 1.5em;">{{ current_roster_link|safe }}</div>
    {% endif %}
    <div class="results-container" style="flex-direction: column; align-items: center;">
        <div class="column" style="max-width: 500px; margin: 0 auto;">
            <ul>
            {% if not outgoing_mentions %}
                {% if no_mentions_message %}
                    <li class="no-mentions-message" style="color: #7c31ff; font-weight: bold; margin: 1em 0;">{{ no_mentions_message }}</li>
                {% else %}
                    <li>No mentions found in the selected window.</li>
                {% endif %}
            {% else %}
                {% for entity, count, link in outgoing_mentions %}
                    {% if request.args.get('type') == 'player' %}
                        <li><a href="/transfers?query={{ entity|urlencode }}&type=team">{{ entity.title() }}</a> - {{ '1 mention' if count == 1 else count ~ ' mentions' }}</li>
                    {% else %}
                        <li><a href="{{ link }}">{{ entity.title() }}</a> - {{ '1 mention' if count == 1 else count ~ ' mentions' }}</li>
                    {% endif %}
                {% endfor %}
            {% endif %}
            </ul>
        </div>
    </div>
</body>
</html>
